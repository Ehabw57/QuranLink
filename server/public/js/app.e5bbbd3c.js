(function(){"use strict";var e={7765:function(e,t,s){var r=s(5130),a=s(6768),n=s(4232);const o={class:"site-header"},i=["aria-label"],l={class:"desktop-only config"},u={class:"config-item"},d=["title"],c={class:"config-item"},h=["title"],p={key:0,class:"config-item"},g=["title"],m={key:1,class:"config-item"},f=["title"],v={class:"modal"},k={class:"modal-content"},y=["title"],V=["title"],C={key:0},E=["title"],x={key:1},b=["title"],L={class:"border-container"},w={key:0,class:"test-container"},I={key:0,class:"verses-test"},_={key:1,class:"words-test"},$={key:1,class:"loader-container"},T={class:"test-buttons"},X={class:"site-footer"};function O(e,t,s,O,F,R){const S=(0,a.g2)("ButtonOptions"),A=(0,a.g2)("VerseSelector"),M=(0,a.g2)("RangeSelector"),K=(0,a.g2)("SurahBorder"),N=(0,a.g2)("testVerse"),q=(0,a.g2)("testWord");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("header",o,[t[17]||(t[17]=(0,a.Lk)("div",{class:"logo"},null,-1)),(0,a.Lk)("h1",null,(0,n.v_)(e.$t("app.title")),1),(0,a.Lk)("button",{class:"lang-toggle",onClick:t[0]||(t[0]=(...e)=>R.toggleLanguage&&R.toggleLanguage(...e))},(0,n.v_)("en"===O.locale?"ع":"EN"),1),(0,a.Lk)("i",{class:(0,n.C4)(["fa-solid",["dark"===F.theme?"fa-sun":"fa-moon"]]),onClick:t[1]||(t[1]=(...e)=>R.toggleTheme&&R.toggleTheme(...e))},null,2),(0,a.Lk)("button",{class:"settings",onClick:t[2]||(t[2]=e=>F.isModalOpend=!0),"aria-label":e.$t("header.settings")},[...t[16]||(t[16]=[(0,a.Lk)("i",{class:"fa-solid fa-gear"},null,-1)])],8,i)]),(0,a.Lk)("div",l,[(0,a.Lk)("div",u,[(0,a.Lk)("i",{class:"fa-solid fa-layer-group",title:e.$t("config.mode")},null,8,d),t[18]||(t[18]=(0,a.eW)()),(0,a.bF)(S,{options:R.modeOptions,modelValue:F.mode,"onUpdate:modelValue":t[3]||(t[3]=e=>F.mode=e)},null,8,["options","modelValue"])]),t[21]||(t[21]=(0,a.Lk)("div",{class:"seprator"},null,-1)),(0,a.Lk)("div",c,[(0,a.Lk)("i",{class:"fa-solid fa-sliders",title:e.$t("config.rangeType")},null,8,h),t[19]||(t[19]=(0,a.eW)()),(0,a.bF)(S,{options:R.rangeOptions,modelValue:F.range,"onUpdate:modelValue":t[4]||(t[4]=e=>F.range=e)},null,8,["options","modelValue"])]),t[22]||(t[22]=(0,a.Lk)("div",{class:"seprator"},null,-1)),"key"==F.range?((0,a.uX)(),(0,a.CE)("div",p,[(0,a.Lk)("i",{class:"fa-solid fa-book-open-reader",title:e.$t("config.verseRange")},null,8,g),t[20]||(t[20]=(0,a.eW)()),(0,a.bF)(A,{onChange:R.fetchVerses,chapters:F.chapters,modelValue:F.verseRangeValue,"onUpdate:modelValue":t[5]||(t[5]=e=>F.verseRangeValue=e)},null,8,["onChange","chapters","modelValue"])])):((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("i",{class:"fa-solid fa-hashtag",title:e.$t("config.numericRange")},null,8,f),(0,a.bF)(M,{onChange:R.fetchVerses,limit:R.rangeLimit,modelValue:F.rangeValue,"onUpdate:modelValue":t[6]||(t[6]=e=>F.rangeValue=e)},null,8,["onChange","limit","modelValue"])])),t[23]||(t[23]=(0,a.Lk)("div",{class:"seprator"},null,-1))]),(0,a.bo)((0,a.Lk)("div",v,[(0,a.Lk)("i",{onClick:t[7]||(t[7]=e=>F.isModalOpend=!1),class:"close fa-solid fa-xmark"}),(0,a.Lk)("div",k,[(0,a.Lk)("h1",null,(0,n.v_)(e.$t("modal.testConfig")),1),(0,a.Lk)("div",null,[(0,a.Lk)("i",{class:"fa-solid fa-layer-group",title:e.$t("config.mode")},null,8,y),(0,a.bF)(S,{options:R.modeOptions,modelValue:F.mode,"onUpdate:modelValue":t[8]||(t[8]=e=>F.mode=e)},null,8,["options","modelValue"])]),(0,a.Lk)("div",null,[(0,a.Lk)("i",{class:"fa-solid fa-sliders",title:e.$t("config.rangeType")},null,8,V),(0,a.bF)(S,{options:R.rangeOptions,modelValue:F.range,"onUpdate:modelValue":t[9]||(t[9]=e=>F.range=e)},null,8,["options","modelValue"])]),"key"==F.range?((0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("i",{class:"fa-solid fa-book-open-reader",title:e.$t("config.verseRange")},null,8,E),(0,a.bF)(A,{onChange:R.fetchVerses,chapters:F.chapters,modelValue:F.verseRangeValue,"onUpdate:modelValue":t[10]||(t[10]=e=>F.verseRangeValue=e)},null,8,["onChange","chapters","modelValue"])])):((0,a.uX)(),(0,a.CE)("div",x,[(0,a.Lk)("i",{class:"fa-solid fa-hashtag",title:e.$t("config.numericRange")},null,8,b),(0,a.bF)(M,{onChange:R.fetchVerses,limit:R.rangeLimit,modelValue:F.rangeValue,"onUpdate:modelValue":t[11]||(t[11]=e=>F.rangeValue=e)},null,8,["onChange","limit","modelValue"])]))])],512),[[r.aG,F.isModalOpend]]),(0,a.Lk)("div",L,[(0,a.bF)(K,{surahName:R.surahName},null,8,["surahName"])]),!F.loading&&F.verses[F.activeVerse]?((0,a.uX)(),(0,a.CE)("div",w,["verses"===F.mode?((0,a.uX)(),(0,a.CE)("div",I,[(0,a.bF)(N,{ref:"verseTest",onDone:R.handelDone,verses:R.slicedVerses},null,8,["onDone","verses"])])):((0,a.uX)(),(0,a.CE)("div",_,[(0,a.bF)(q,{ref:"wordsTest",onDone:R.handelDone,verse:F.verses[F.activeVerse]},null,8,["onDone","verse"])]))])):((0,a.uX)(),(0,a.CE)("div",$,[...t[24]||(t[24]=[(0,a.Lk)("span",{class:"loader"},null,-1)])])),(0,a.Lk)("div",T,[(0,a.Lk)("i",{class:(0,n.C4)(["fa-solid fa-repeat",{active:F.isRepeat}]),onClick:t[12]||(t[12]=e=>F.isRepeat=!F.isRepeat)},null,2),(0,a.Lk)("i",{class:"fa-solid fa-shuffle",onClick:t[13]||(t[13]=(...e)=>R.getRandomVerse&&R.getRandomVerse(...e))}),(0,a.Lk)("i",{class:"fa-solid fa-rotate-right",onClick:t[14]||(t[14]=(...e)=>R.restart&&R.restart(...e))}),(0,a.Lk)("i",{class:"fa-solid fa-angles-left",onClick:t[15]||(t[15]=(...e)=>R.handelDone&&R.handelDone(...e))})]),(0,a.Lk)("footer",X,[(0,a.Lk)("span",null,(0,n.v_)(e.$t("app.copyright")),1)])],64)}s(8111),s(116),s(7588),s(4603),s(7566),s(8721);var F=s(144);const R=(0,F.Kh)({currentInput:null,setCurrentInput(e){this.currentInput=e},shuffleArray(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[s],e[t]]=[e[t],e[s]]}return e},delay(e){return new Promise(t=>setTimeout(t,e))},generateDashes(e){return"_".repeat(e)}});var S=s(5384),A=s(7411),M={name:"App",setup(){const{locale:e,t:t}=(0,S.s9)(),s=(0,A.dj)();return{locale:e,t:t,toast:s}},data(){return{store:R,chapters:[],verses:[],activeVerse:0,isRepeat:!1,isModalOpend:!1,mode:"words",range:"page",rangeValue:{start:3,end:4},verseRangeValue:{startChapter:1,startVerse:1,endChapter:1,endVerse:7},loading:!0,theme:"dark",apiUrl:"undefined"!==typeof window&&window.__API_URL__||"http://localhost:8000"}},computed:{modeOptions(){return["words","verses"]},rangeOptions(){return["juz","page","key"]},rangeLimit(){return"page"===this.range?604:30},surahName(){if(!this.loading&&this.chapters.length>0&&this.verses.length>0&&this.verses[this.activeVerse]){const e=this.chapters.find(e=>e.id===this.verses[this.activeVerse].surah_id);return e?e.name:this.t("loading")}return this.t("loading")},slicedVerses(){return this.verses.slice(this.activeVerse)}},methods:{onEscKey(e){"Escape"===e.key&&this.isModalOpend&&(this.isModalOpend=!1)},applyTheme(e){const t=document.documentElement,s=document.getElementsByClassName("border-image")[0];"light"===e?(t.setAttribute("data-theme","light"),s.style.backgroundImage='url("./assets/Surah-border-light.png")'):(t.removeAttribute("data-theme"),s.style.backgroundImage='url("./assets/Surah-border-dark.png")'),this.theme=e;try{localStorage.setItem("theme",e)}catch(r){console.log(r)}},toggleTheme(){const e="light"===this.theme?"dark":"light";this.applyTheme(e)},applyLanguage(e){const t=document.documentElement,s="ar"===e?"rtl":"ltr";t.setAttribute("lang",e),t.setAttribute("dir",s),this.locale=e;const r=document.querySelectorAll(".Vue-Toastification__container");r.forEach(t=>{"ar"===e?(t.style.direction="rtl",t.style.textAlign="right"):(t.style.direction="ltr",t.style.textAlign="left")});try{localStorage.setItem("language",e)}catch(a){console.log(a)}},toggleLanguage(){const e="ar"===this.locale?"en":"ar";this.applyLanguage(e)},async fetchChapters(){this.loading=!0;try{const e=await fetch(`${this.apiUrl}/surahs`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);this.chapters=await e.json()}catch(e){console.error("Error fetching chapters:",e);let t=this.t("errors.fetchChaptersError");e.message.includes("Failed to fetch")||e instanceof TypeError?t=this.t("errors.networkError"):e.message.includes("HTTP error")&&(t=this.t("errors.serverError")),await this.$nextTick(),this.toast&&this.toast.error(t,{timeout:5e3,closeOnClick:!0,pauseOnHover:!0}),this.loading=!1}},async fetchVerses(){this.loading=!0;try{const{startChapter:e,startVerse:t,endChapter:s,endVerse:r}=this.verseRangeValue,{start:a,end:n}=this.rangeValue,o=new URLSearchParams({range_type:this.range,range_value:"key"===this.range?`${e}:${t}-${s}:${r}`:`${a}:${n}`}).toString(),i=await fetch(`${this.apiUrl}/verses?${o}`);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);this.verses=await i.json(),this.activeVerse=0,this.loading=!1,await this.$nextTick(),this.restart()}catch(e){console.error("Error fetching verses:",e);let t=this.t("errors.fetchVersesError");e.message.includes("Failed to fetch")||e instanceof TypeError?t=this.t("errors.networkError"):e.message.includes("HTTP error")&&(t=this.t("errors.serverError")),await this.$nextTick(),this.toast&&this.toast.error(t,{timeout:5e3,closeOnClick:!0,pauseOnHover:!0}),this.loading=!1}},getRandomVerse(){this.activeVerse=Math.floor(Math.random()*(this.verses.length-1)),this.restart()},async handelDone(){this.isRepeat||(this.activeVerse=(this.activeVerse+1)%this.verses.length),await this.$nextTick(),this.restart()},restart(){(this.$refs.wordsTest||this.$refs.verseTest)&&("words"===this.mode?this.$refs.wordsTest.restartTest():this.$refs.verseTest.restartTest())}},async created(){await this.fetchChapters(),await this.fetchVerses()},mounted(){window.addEventListener("keydown",this.onEscKey);let e="dark";try{const t=localStorage.getItem("theme");"light"===t||"dark"===t?e=t:window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&(e="light")}catch(s){console.log(s)}this.applyTheme(e);let t="en";try{const e=localStorage.getItem("language");"ar"!==e&&"en"!==e||(t=e)}catch(s){console.log(s)}this.applyLanguage(t)},beforeUnmount(){window.removeEventListener("keydown",this.onEscKey)}},K=s(1241);const N=(0,K.A)(M,[["render",O]]);var q=N,U=JSON.parse('{"app":{"title":"Quran Link","copyright":"CopyRight 2025 © Ehab Hegazy"},"header":{"settings":"Settings"},"config":{"mode":"Mode","rangeType":"Range Type","verseRange":"Verse Range","numericRange":"Numeric Range"},"modal":{"testConfig":"Test Config"},"modes":{"words":"Words","verses":"Verses"},"ranges":{"juz":"Juz","page":"Page","key":"Key"},"labels":{"start":"Start","end":"End"},"buttons":{"repeat":"Repeat","shuffle":"Shuffle","restart":"Restart","next":"Next"},"loading":"Loading...","errors":{"networkError":"Network error. Please check your connection.","serverError":"Server error. Please try again later.","fetchChaptersError":"Failed to load chapters. Please try again.","fetchVersesError":"Failed to load verses. Please try again.","unknownError":"An unexpected error occurred."}}'),j=JSON.parse('{"app":{"title":"رابط القرآن","copyright":"جميع الحقوق محفوظة 2025 © إيهاب حجازي"},"header":{"settings":"الإعدادات"},"config":{"mode":"الوضع","rangeType":"نوع النطاق","verseRange":"نطاق الآيات","numericRange":"النطاق الرقمي"},"modal":{"testConfig":"إعدادات الاختبار"},"modes":{"words":"كلمات","verses":"آيات"},"ranges":{"juz":"جزء","page":"صفحة","key":"مفتاح"},"labels":{"start":"البداية","end":"النهاية"},"buttons":{"repeat":"إعادة","shuffle":"عشوائي","restart":"بدء من جديد","next":"التالي"},"loading":"جاري التحميل...","errors":{"networkError":"خطأ في الاتصال. يرجى التحقق من الإنترنت.","serverError":"خطأ في الخادم. يرجى المحاولة لاحقاً.","fetchChaptersError":"فشل تحميل السور. يرجى المحاولة مرة أخرى.","fetchVersesError":"فشل تحميل الآيات. يرجى المحاولة مرة أخرى.","unknownError":"حدث خطأ غير متوقع."}}');const P=(0,S.hU)({legacy:!1,locale:localStorage.getItem("language")||"en",fallbackLocale:"en",messages:{en:U,ar:j}});var B=P;s(7917);const D=["onClick"];function H(e,t,s,r,o,i){return(0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.options,(e,t)=>((0,a.uX)(),(0,a.CE)("button",{key:`option-${t}`,class:(0,n.C4)({active:s.modelValue===e}),onClick:t=>i.updateValue(e)},(0,n.v_)(i.getLabel(e)),11,D))),128)}var W={props:{options:{type:Array,required:!0},modelValue:{type:String,required:!0}},setup(){const{t:e,te:t}=(0,S.s9)();return{t:e,te:t}},methods:{updateValue(e){this.$emit("update:modelValue",e)},getLabel(e){const t=`modes.${e}`;if(this.te(t))return this.t(t);const s=`ranges.${e}`;return this.te(s)?this.t(s):e}}};const z=(0,K.A)(W,[["render",H]]);var J=z;const Q={for:"start"},G=["value"],Y=["value"],Z={for:"end"},ee=["value"],te=["value"];function se(e,t,s,r,o,i){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("label",Q,(0,n.v_)(e.$t("labels.start"))+":",1),(0,a.Lk)("select",{id:"start",value:s.modelValue.start,onChange:t[0]||(t[0]=e=>i.updateStart(e.target.value))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.limit,e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,Y))),128))],40,G),(0,a.Lk)("label",Z,(0,n.v_)(e.$t("labels.end"))+":",1),(0,a.Lk)("select",{id:"end",value:s.modelValue.end,onChange:t[1]||(t[1]=e=>i.updateEnd(e.target.value))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.limit,e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,te))),128))],40,ee)])}var re={props:{limit:{type:Number,required:!0},modelValue:{type:Object,required:!0}},methods:{updateStart(e){const t=Number(e),s=Math.max(t,this.modelValue.end);this.$emit("update:modelValue",{start:t,end:s})},updateEnd(e){const t=Number(e),s=Math.min(t,this.modelValue.start);this.$emit("update:modelValue",{start:s,end:t})}}};const ae=(0,K.A)(re,[["render",se]]);var ne=ae;const oe=["value"],ie=["value"],le=["value"],ue=["value"],de=["value"],ce=["value"],he=["value"],pe=["value"];function ge(e,t,s,r,o,i){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",null,[(0,a.Lk)("label",null,(0,n.v_)(e.$t("labels.start"))+":",1),(0,a.Lk)("select",{onChange:t[0]||(t[0]=e=>i.updateModel("startChapter",e.target.value)),value:s.modelValue.startChapter},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.chapters,e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.id)+"-"+(0,n.v_)(e.en_name),9,ie))),128))],40,oe),(0,a.Lk)("select",{onChange:t[1]||(t[1]=e=>i.updateModel("startVerse",e.target.value)),value:s.modelValue.startVerse},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.startVerseOptions,e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,ue))),128))],40,le)]),(0,a.Lk)("div",null,[(0,a.Lk)("label",null,(0,n.v_)(e.$t("labels.end"))+":",1),(0,a.Lk)("select",{onChange:t[2]||(t[2]=e=>i.updateModel("endChapter",e.target.value)),value:s.modelValue.endChapter},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.filteredChapters,e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.id)+"-"+(0,n.v_)(e.en_name),9,ce))),128))],40,de),(0,a.Lk)("select",{onChange:t[3]||(t[3]=e=>i.updateModel("endVerse",e.target.value)),value:s.modelValue.endVerse},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.endVerseOptions,e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,pe))),128))],40,he)])],64)}s(2489);var me={props:{chapters:{type:Array,required:!0},modelValue:{type:Object,required:!0}},computed:{filteredChapters(){return this.chapters.filter(e=>e.id>=this.modelValue.startChapter)},startVerseOptions(){const e=this.chapters.find(e=>e.id===this.modelValue.startChapter);return e?Array.from({length:e.ayahs_count},(e,t)=>t+1):[]},endVerseOptions(){const e=this.chapters.find(e=>e.id===this.modelValue.endChapter);if(!e)return[];const t=this.modelValue.startChapter===this.modelValue.endChapter?this.modelValue.startVerse:1;return Array.from({length:e.ayahs_count-t+1},(e,s)=>s+t)}},methods:{updateModel(e,t){t=Number(t);let s={...this.modelValue,[e]:t};if("startChapter"===e){s.startChapter>s.endChapter&&(s.endChapter=s.startChapter);const e=this.chapters.find(e=>e.id===s.startChapter);e&&s.startVerse>e.ayahs_count&&(s.startVerse=e.ayahs_count)}if("endChapter"===e){const e=this.chapters.find(e=>e.id===s.endChapter);e&&s.endVerse>e.ayahs_count&&(s.endVerse=e.ayahs_count)}s.startChapter===s.endChapter&&s.startVerse>s.endVerse&&(s.endVerse=s.startVerse);const r=this.chapters.find(e=>e.id===s.endChapter);r&&s.endVerse>r.ayahs_count&&(s.endVerse=r.ayahs_count),this.$emit("update:modelValue",s),this.$emit("change",s)}}};const fe=(0,K.A)(me,[["render",ge]]);var ve=fe;const ke={class:"surahName"};function ye(e,t,s,r,o,i){return(0,a.uX)(),(0,a.CE)(a.FK,null,[t[0]||(t[0]=(0,a.Lk)("div",{class:"border-image"},null,-1)),(0,a.Lk)("div",ke,(0,n.v_)(s.surahName),1)],64)}var Ve={props:{surahName:{type:String,required:!0}}};const Ce=(0,K.A)(Ve,[["render",ye]]);var Ee=Ce;function xe(e,t,s,o,i,l){return(0,a.bo)(((0,a.uX)(),(0,a.CE)("textarea",{tabindex:"1",rows:"1",ref:"input",class:(0,n.C4)(["input",{shake:i.isShaking}]),type:"textara","onUpdate:modelValue":t[0]||(t[0]=e=>i.inputValue=e),onInput:t[1]||(t[1]=(...e)=>l.handleInput&&l.handleInput(...e)),style:(0,n.Tr)({width:l.inputWidth})},"  ",38)),[[r.Jo,i.inputValue]])}var be={props:{expected:{type:String,required:!0}},emits:["correct"],data(){return{inputValue:"",hint:"",isShaking:!1}},computed:{inputWidth(){return`${this.expected.length+1}ch`}},methods:{handleInput(){" "===this.inputValue[this.inputValue.length-1]&&this.addHint(),"\n"===this.inputValue[this.inputValue.length-1]&&this.emitCorrect(),this.inputValue.length==this.expected.length&&(this.simplifyText(this.inputValue)===this.simplifyText(this.expected)?this.emitCorrect():(this.isShaking=!0,setTimeout(()=>{this.inputValue=this.hint,this.isShaking=!1},400)))},addHint(){this.hint.length<this.expected.length-1?(this.hint+=this.expected[this.hint.length],this.inputValue=this.hint):this.emitCorrect()},simplifyText(e){return e.replace(/[إأآ]/g,"ا").replace(/ة/g,"ه").replace(/ى/g,"ي")},emitCorrect(){this.$emit("correct"),this.inputValue=""},focus(){this.$refs.input.focus()}}};const Le=(0,K.A)(be,[["render",xe]]);var we=Le;const Ie={class:"quran-text"},_e={key:0,class:"verseBlock"},$e={key:2,class:"dashes"},Te={class:"quran-text"};function Xe(e,t,s,r,o,i){const l=(0,a.g2)("inputBox");return(0,a.uX)(),(0,a.CE)(a.FK,null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.verses[0].text,(e,t)=>((0,a.uX)(),(0,a.CE)("p",{class:"quran-text",key:t},(0,n.v_)(e),1))),128)),(0,a.Lk)("p",Ie,(0,n.v_)(s.verses[0].glyph_number),1),s.verses[1]?((0,a.uX)(),(0,a.CE)("div",_e,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.verses[1].text,(e,r)=>((0,a.uX)(),(0,a.CE)("div",{key:r},[o.activeIndex===r?((0,a.uX)(),(0,a.Wv)(l,{key:0,ref_for:!0,ref:"inputs",expected:s.verses[1].simple_text[r],onCorrect:t[0]||(t[0]=e=>i.handleCorrect())},null,8,["expected"])):o.activeIndex>r?((0,a.uX)(),(0,a.CE)("p",{key:1,class:"correct quran-text",ref_for:!0,ref:"words"},(0,n.v_)(e),513)):((0,a.uX)(),(0,a.CE)("p",$e,(0,n.v_)(o.store.generateDashes(s.verses[1].simple_text[r].length)),1))]))),128)),(0,a.Lk)("p",Te,(0,n.v_)(s.verses[1].glyph_number),1)])):(0,a.Q3)("",!0)],64)}var Oe={props:{verses:{type:Array,required:!0}},emits:["done"],data(){return{store:R,activeIndex:0}},methods:{async handleCorrect(){const e=this.verses[1];if(this.activeIndex===e.text.length-1)this.$emit("done");else{this.activeIndex++,await this.focusInput();const e=this.$refs.words[this.activeIndex-1];await this.store.delay(600),e.classList.remove("correct")}},async focusInput(){if(await this.$nextTick(),this.$refs.inputs?.length>0){const e=this.$refs.inputs[0];this.store.setCurrentInput(e),e.focus()}},restartTest(){this.activeIndex=0,this.focusInput()}}};const Fe=(0,K.A)(Oe,[["render",Xe]]);var Re=Fe;const Se={key:1,class:"dashes"},Ae={class:"quran-text"};function Me(e,t,s,r,o,i){const l=(0,a.g2)("inputBox");return(0,a.uX)(),(0,a.CE)(a.FK,null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.verse.simple_text,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t},[t===o.activeIndex?((0,a.uX)(),(0,a.Wv)(l,{key:0,ref_for:!0,ref:"inputs",onCorrect:i.handleCorrect,expected:e},null,8,["onCorrect","expected"])):t>o.activeIndex&&o.inputIndexs.includes(t)?((0,a.uX)(),(0,a.CE)("p",Se,(0,n.v_)(o.store.generateDashes(e.length)),1)):((0,a.uX)(),(0,a.CE)("p",{key:2,ref_for:!0,ref:"words",class:(0,n.C4)([{correct:o.oldInputIndexs.includes(t)},"quran-text"])},(0,n.v_)(s.verse.text[t]),3))]))),128)),(0,a.Lk)("p",Ae,(0,n.v_)(s.verse.glyph_number),1)],64)}var Ke={props:{verse:{type:Object,required:!0}},emits:["done"],data(){return{store:R,activeIndex:0,oldInputIndexs:[],inputIndexs:[]}},methods:{async handleCorrect(){if(this.inputIndexs.length<=1)return void this.$emit("done");this.inputIndexs.shift(),this.activeIndex=this.inputIndexs[0],await this.focusInput();const e=this.$refs.words[this.$refs.words.length-1];await this.store.delay(600),e.classList.remove("correct")},pickInputIndexs(){this.inputIndexs=[0];const e=this.verse.text.length;if(e>1){const t=Math.floor(.5*e);let s=Array.from({length:e},(e,t)=>t);this.inputIndexs=this.store.shuffleArray(s).slice(0,t).sort((e,t)=>e-t)}this.activeIndex=this.inputIndexs[0]},async focusInput(){if(await this.$nextTick(),this.$refs.inputs?.length>0){const e=this.$refs.inputs[0];this.store.setCurrentInput(e),e.focus()}},restartTest(){this.pickInputIndexs(),this.oldInputIndexs=[...this.inputIndexs],this.focusInput()}}};const Ne=(0,K.A)(Ke,[["render",Me]]);var qe=Ne;const Ue=(0,r.Ef)(q),je={position:"bottom-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1};Ue.use(B).use(A.Ay,je).component("ButtonOptions",J).component("RangeSelector",ne).component("VerseSelector",ve).component("SurahBorder",Ee).component("inputBox",we).component("testVerse",Re).component("testWord",qe).mount("#app")}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,n){if(!r){var o=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],n=e[d][2];for(var i=!0,l=0;l<r.length;l++)(!1&n||o>=n)&&Object.keys(s.O).every(function(e){return s.O[e](r[l])})?r.splice(l--,1):(i=!1,n<o&&(o=n));if(i){e.splice(d--,1);var u=a();void 0!==u&&(t=u)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,n,o=r[0],i=r[1],l=r[2],u=0;if(o.some(function(t){return 0!==e[t]})){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(l)var d=l(s)}for(t&&t(r);u<o.length;u++)n=o[u],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},r=self["webpackChunkclient"]=self["webpackChunkclient"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],function(){return s(7765)});r=s.O(r)})();
//# sourceMappingURL=app.e5bbbd3c.js.map