(function(){"use strict";var e={2304:function(e,t,s){var r=s(5130),a=s(6768),n=s(4232);const o={class:"site-header"},l=["aria-label"],i={class:"desktop-only config"},u={class:"config-item"},c=["title"],d={class:"config-item"},h=["title"],p={key:0,class:"config-item"},g=["title"],f={key:1,class:"config-item"},m=["title"],v={class:"modal-content"},k={key:0},y={key:1},V={class:"border-container"},C={key:0,class:"test-container"},b={key:0,class:"verses-test"},L={key:1,class:"words-test"},x={key:1,class:"loader-container"},E={class:"test-buttons"},w={class:"site-footer"},_={class:"footer-content"},I={class:"footer-about"};function $(e,t,s,$,T,O){const X=(0,a.g2)("ButtonOptions"),F=(0,a.g2)("VerseSelector"),R=(0,a.g2)("RangeSelector"),S=(0,a.g2)("SurahBorder"),A=(0,a.g2)("testVerse"),M=(0,a.g2)("testWord");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("header",o,[t[18]||(t[18]=(0,a.Lk)("div",{class:"logo"},null,-1)),(0,a.Lk)("h1",null,(0,n.v_)(e.$t("app.title")),1),(0,a.Lk)("button",{class:"lang-toggle",onClick:t[0]||(t[0]=(...e)=>O.toggleLanguage&&O.toggleLanguage(...e))},(0,n.v_)("en"===$.locale?"ع":"EN"),1),(0,a.Lk)("i",{class:(0,n.C4)(["fa-solid",["dark"===T.theme?"fa-sun":"fa-moon"]]),onClick:t[1]||(t[1]=(...e)=>O.toggleTheme&&O.toggleTheme(...e))},null,2),(0,a.Lk)("button",{class:"settings",onClick:t[2]||(t[2]=e=>T.isModalOpend=!0),"aria-label":e.$t("header.settings")},[...t[17]||(t[17]=[(0,a.Lk)("i",{class:"fa-solid fa-gear"},null,-1)])],8,l)]),(0,a.Lk)("div",i,[(0,a.Lk)("div",u,[(0,a.Lk)("i",{class:"fa-solid fa-layer-group",title:e.$t("config.mode")},null,8,c),t[19]||(t[19]=(0,a.eW)()),(0,a.bF)(X,{options:O.modeOptions,modelValue:T.mode,"onUpdate:modelValue":t[3]||(t[3]=e=>T.mode=e)},null,8,["options","modelValue"])]),(0,a.Lk)("div",d,[(0,a.Lk)("i",{class:"fa-solid fa-sliders",title:e.$t("config.rangeType")},null,8,h),t[20]||(t[20]=(0,a.eW)()),(0,a.bF)(X,{options:O.rangeOptions,modelValue:T.range,"onUpdate:modelValue":t[4]||(t[4]=e=>T.range=e)},null,8,["options","modelValue"])]),"key"==T.range?((0,a.uX)(),(0,a.CE)("div",p,[(0,a.Lk)("i",{class:"fa-solid fa-book-open-reader",title:e.$t("config.verseRange")},null,8,g),t[21]||(t[21]=(0,a.eW)()),(0,a.bF)(F,{onChange:O.fetchVerses,chapters:T.chapters,modelValue:T.verseRangeValue,"onUpdate:modelValue":t[5]||(t[5]=e=>T.verseRangeValue=e)},null,8,["onChange","chapters","modelValue"])])):((0,a.uX)(),(0,a.CE)("div",f,[(0,a.Lk)("i",{class:"fa-solid fa-hashtag",title:e.$t("config.numericRange")},null,8,m),(0,a.bF)(R,{onChange:O.fetchVerses,limit:O.rangeLimit,modelValue:T.rangeValue,"onUpdate:modelValue":t[6]||(t[6]=e=>T.rangeValue=e)},null,8,["onChange","limit","modelValue"])]))]),(0,a.bo)((0,a.Lk)("div",{class:"modal",onClick:t[12]||(t[12]=(0,r.D$)(e=>T.isModalOpend=!1,["self"]))},[(0,a.Lk)("div",v,[(0,a.Lk)("i",{onClick:t[7]||(t[7]=e=>T.isModalOpend=!1),class:"close fa-solid fa-xmark"}),(0,a.Lk)("h1",null,(0,n.v_)(e.$t("modal.testConfig")),1),(0,a.Lk)("div",null,[(0,a.Lk)("label",null,[t[22]||(t[22]=(0,a.Lk)("i",{class:"fa-solid fa-layer-group"},null,-1)),(0,a.eW)(" "+(0,n.v_)(e.$t("config.mode")),1)]),(0,a.bF)(X,{options:O.modeOptions,modelValue:T.mode,"onUpdate:modelValue":t[8]||(t[8]=e=>T.mode=e)},null,8,["options","modelValue"])]),(0,a.Lk)("div",null,[(0,a.Lk)("label",null,[t[23]||(t[23]=(0,a.Lk)("i",{class:"fa-solid fa-sliders"},null,-1)),(0,a.eW)(" "+(0,n.v_)(e.$t("config.rangeType")),1)]),(0,a.bF)(X,{options:O.rangeOptions,modelValue:T.range,"onUpdate:modelValue":t[9]||(t[9]=e=>T.range=e)},null,8,["options","modelValue"])]),"key"==T.range?((0,a.uX)(),(0,a.CE)("div",k,[(0,a.Lk)("label",null,[t[24]||(t[24]=(0,a.Lk)("i",{class:"fa-solid fa-book-open-reader"},null,-1)),(0,a.eW)(" "+(0,n.v_)(e.$t("config.verseRange")),1)]),(0,a.bF)(F,{onChange:O.fetchVerses,chapters:T.chapters,modelValue:T.verseRangeValue,"onUpdate:modelValue":t[10]||(t[10]=e=>T.verseRangeValue=e)},null,8,["onChange","chapters","modelValue"])])):((0,a.uX)(),(0,a.CE)("div",y,[(0,a.Lk)("label",null,[t[25]||(t[25]=(0,a.Lk)("i",{class:"fa-solid fa-hashtag"},null,-1)),(0,a.eW)(" "+(0,n.v_)(e.$t("config.numericRange")),1)]),(0,a.bF)(R,{onChange:O.fetchVerses,limit:O.rangeLimit,modelValue:T.rangeValue,"onUpdate:modelValue":t[11]||(t[11]=e=>T.rangeValue=e)},null,8,["onChange","limit","modelValue"])]))])],512),[[r.aG,T.isModalOpend]]),(0,a.Lk)("div",V,[(0,a.bF)(S,{surahName:O.surahName},null,8,["surahName"])]),!T.loading&&T.verses[T.activeVerse]?((0,a.uX)(),(0,a.CE)("div",C,["verses"===T.mode?((0,a.uX)(),(0,a.CE)("div",b,[(0,a.bF)(A,{ref:"verseTest",onDone:O.handelDone,verses:O.slicedVerses},null,8,["onDone","verses"])])):((0,a.uX)(),(0,a.CE)("div",L,[(0,a.bF)(M,{ref:"wordsTest",onDone:O.handelDone,verse:T.verses[T.activeVerse]},null,8,["onDone","verse"])]))])):((0,a.uX)(),(0,a.CE)("div",x,[...t[26]||(t[26]=[(0,a.Lk)("span",{class:"loader"},null,-1)])])),(0,a.Lk)("div",E,[(0,a.Lk)("i",{class:(0,n.C4)(["fa-solid fa-repeat",{active:T.isRepeat}]),onClick:t[13]||(t[13]=e=>T.isRepeat=!T.isRepeat)},null,2),(0,a.Lk)("i",{class:"fa-solid fa-shuffle",onClick:t[14]||(t[14]=(...e)=>O.getRandomVerse&&O.getRandomVerse(...e))}),(0,a.Lk)("i",{class:"fa-solid fa-rotate-right",onClick:t[15]||(t[15]=(...e)=>O.restart&&O.restart(...e))}),(0,a.Lk)("i",{class:"fa-solid fa-angles-left",onClick:t[16]||(t[16]=(...e)=>O.handelDone&&O.handelDone(...e))})]),(0,a.Lk)("footer",w,[(0,a.Lk)("div",_,[(0,a.Lk)("div",I,[(0,a.Lk)("h3",null,(0,n.v_)(e.$t("app.title")),1),(0,a.Lk)("p",null,(0,n.v_)(e.$t("footer.about")),1)]),t[27]||(t[27]=(0,a.Fv)('<div class="footer-social"><div class="social-links"><a href="https://github.com/Ehabw57" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile"><i class="fa-brands fa-github"></i></a><a href="https://github.com/Ehabw57/QuranLink/" target="_blank" rel="noopener noreferrer" aria-label="Project Repository"><i class="fa-solid fa-code-branch"></i></a><a href="https://www.linkedin.com/in/ehababdelrady" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn"><i class="fa-brands fa-linkedin"></i></a><a href="https://ehabw57.github.io/personal_portofolio/" target="_blank" rel="noopener noreferrer" aria-label="Portfolio"><i class="fa-solid fa-globe"></i></a><a href="https://www.youtube.com/@mercy_world57" target="_blank" rel="noopener noreferrer" aria-label="YouTube"><i class="fa-brands fa-youtube"></i></a></div></div>',1))])])],64)}s(8111),s(116),s(7588),s(4603),s(7566),s(8721);var T=s(144);const O=(0,T.Kh)({currentInput:null,setCurrentInput(e){this.currentInput=e},shuffleArray(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[s],e[t]]=[e[t],e[s]]}return e},delay(e){return new Promise(t=>setTimeout(t,e))},generateDashes(e){return"_".repeat(e)}});var X=s(5384),F=s(7411),R={name:"App",setup(){const{locale:e,t:t}=(0,X.s9)(),s=(0,F.dj)();return{locale:e,t:t,toast:s}},data(){return{store:O,chapters:[],verses:[],activeVerse:0,isRepeat:!1,isModalOpend:!1,mode:"words",range:"page",rangeValue:{start:3,end:4},verseRangeValue:{startChapter:1,startVerse:1,endChapter:1,endVerse:7},loading:!0,theme:"dark",apiUrl:"undefined"!==typeof window&&window.__API_URL__||"https://quranlink.vercel.app"}},computed:{modeOptions(){return["words","verses"]},rangeOptions(){return["juz","page","key"]},rangeLimit(){return"page"===this.range?604:30},surahName(){if(!this.loading&&this.chapters.length>0&&this.verses.length>0&&this.verses[this.activeVerse]){const e=this.chapters.find(e=>e.id===this.verses[this.activeVerse].surah_id);return e?e.name:this.t("loading")}return this.t("loading")},slicedVerses(){return this.verses.slice(this.activeVerse)}},methods:{onEscKey(e){"Escape"===e.key&&this.isModalOpend&&(this.isModalOpend=!1)},applyTheme(e){const t=document.documentElement,s=document.getElementsByClassName("border-image")[0];"light"===e?(t.setAttribute("data-theme","light"),s.style.backgroundImage='url("./assets/Surah-border-light.svg")'):(t.removeAttribute("data-theme"),s.style.backgroundImage='url("./assets/Surah-border-dark.svg")'),this.theme=e;try{localStorage.setItem("theme",e)}catch(r){console.log(r)}},toggleTheme(){const e="light"===this.theme?"dark":"light";this.applyTheme(e)},applyLanguage(e){const t=document.documentElement,s="ar"===e?"rtl":"ltr";t.setAttribute("lang",e),t.setAttribute("dir",s),this.locale=e;const r=document.querySelectorAll(".Vue-Toastification__container");r.forEach(t=>{"ar"===e?(t.style.direction="rtl",t.style.textAlign="right"):(t.style.direction="ltr",t.style.textAlign="left")});try{localStorage.setItem("language",e)}catch(a){console.log(a)}},toggleLanguage(){const e="ar"===this.locale?"en":"ar";this.applyLanguage(e)},async fetchChapters(){this.loading=!0;try{const e=await fetch(`${this.apiUrl}/surahs`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);this.chapters=await e.json()}catch(e){console.error("Error fetching chapters:",e);let t=this.t("errors.fetchChaptersError");e.message.includes("Failed to fetch")||e instanceof TypeError?t=this.t("errors.networkError"):e.message.includes("HTTP error")&&(t=this.t("errors.serverError")),await this.$nextTick(),this.toast&&this.toast.error(t,{timeout:5e3,closeOnClick:!0,pauseOnHover:!0}),this.loading=!1}},async fetchVerses(){this.loading=!0;try{const{startChapter:e,startVerse:t,endChapter:s,endVerse:r}=this.verseRangeValue,{start:a,end:n}=this.rangeValue,o=new URLSearchParams({range_type:this.range,range_value:"key"===this.range?`${e}:${t}-${s}:${r}`:`${a}:${n}`}).toString(),l=await fetch(`${this.apiUrl}/verses?${o}`);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);this.verses=await l.json(),this.activeVerse=0,this.loading=!1,await this.$nextTick(),this.restart()}catch(e){console.error("Error fetching verses:",e);let t=this.t("errors.fetchVersesError");e.message.includes("Failed to fetch")||e instanceof TypeError?t=this.t("errors.networkError"):e.message.includes("HTTP error")&&(t=this.t("errors.serverError")),await this.$nextTick(),this.toast&&this.toast.error(t,{timeout:5e3,closeOnClick:!0,pauseOnHover:!0}),this.loading=!1}},getRandomVerse(){this.activeVerse=Math.floor(Math.random()*(this.verses.length-1)),this.restart()},async handelDone(){this.isRepeat||(this.activeVerse=(this.activeVerse+1)%this.verses.length),await this.$nextTick(),this.restart()},restart(){(this.$refs.wordsTest||this.$refs.verseTest)&&("words"===this.mode?this.$refs.wordsTest.restartTest():this.$refs.verseTest.restartTest())}},async created(){await this.fetchChapters(),await this.fetchVerses()},mounted(){window.addEventListener("keydown",this.onEscKey);let e="dark";try{const t=localStorage.getItem("theme");"light"===t||"dark"===t?e=t:window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&(e="light")}catch(s){console.log(s)}this.applyTheme(e);let t="en";try{const e=localStorage.getItem("language");"ar"!==e&&"en"!==e||(t=e)}catch(s){console.log(s)}this.applyLanguage(t)},beforeUnmount(){window.removeEventListener("keydown",this.onEscKey)}},S=s(1241);const A=(0,S.A)(R,[["render",$]]);var M=A,K=JSON.parse('{"app":{"title":"Quran Link"},"footer":{"about":"An interactive Quran memorization tool designed to help you practice and perfect your Hifz journey"},"header":{"settings":"Settings"},"config":{"mode":"Mode","rangeType":"Range Type","verseRange":"Verse Range","numericRange":"Numeric Range"},"modal":{"testConfig":"Test Config"},"modes":{"words":"Words","verses":"Verses"},"ranges":{"juz":"Juz","page":"Page","key":"Key"},"labels":{"start":"Start","end":"End"},"buttons":{"repeat":"Repeat","shuffle":"Shuffle","restart":"Restart","next":"Next"},"loading":"Loading...","errors":{"networkError":"Network error. Please check your connection.","serverError":"Server error. Please try again later.","fetchChaptersError":"Failed to load chapters. Please try again.","fetchVersesError":"Failed to load verses. Please try again.","unknownError":"An unexpected error occurred."}}'),q=JSON.parse('{"app":{"title":"رابط القرآن"},"footer":{"about":"أداة تفاعلية لحفظ القرآن الكريم مصممة لمساعدتك في الممارسة وإتقان رحلة الحفظ"},"header":{"settings":"الإعدادات"},"config":{"mode":"الوضع","rangeType":"نوع النطاق","verseRange":"نطاق الآيات","numericRange":"النطاق الرقمي"},"modal":{"testConfig":"إعدادات الاختبار"},"modes":{"words":"كلمات","verses":"آيات"},"ranges":{"juz":"جزء","page":"صفحة","key":"مفتاح"},"labels":{"start":"البداية","end":"النهاية"},"buttons":{"repeat":"إعادة","shuffle":"عشوائي","restart":"بدء من جديد","next":"التالي"},"loading":"جاري التحميل...","errors":{"networkError":"خطأ في الاتصال. يرجى التحقق من الإنترنت.","serverError":"خطأ في الخادم. يرجى المحاولة لاحقاً.","fetchChaptersError":"فشل تحميل السور. يرجى المحاولة مرة أخرى.","fetchVersesError":"فشل تحميل الآيات. يرجى المحاولة مرة أخرى.","unknownError":"حدث خطأ غير متوقع."}}');const N=(0,X.hU)({legacy:!1,locale:localStorage.getItem("language")||"en",fallbackLocale:"en",messages:{en:K,ar:q}});var P=N;s(7917);const j=["onClick"];function U(e,t,s,r,o,l){return(0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.options,(e,t)=>((0,a.uX)(),(0,a.CE)("button",{key:`option-${t}`,class:(0,n.C4)({active:s.modelValue===e}),onClick:t=>l.updateValue(e)},(0,n.v_)(l.getLabel(e)),11,j))),128)}var W={props:{options:{type:Array,required:!0},modelValue:{type:String,required:!0}},setup(){const{t:e,te:t}=(0,X.s9)();return{t:e,te:t}},methods:{updateValue(e){this.$emit("update:modelValue",e)},getLabel(e){const t=`modes.${e}`;if(this.te(t))return this.t(t);const s=`ranges.${e}`;return this.te(s)?this.t(s):e}}};const D=(0,S.A)(W,[["render",U]]);var B=D;const H={style:{display:"flex",gap:"10px","align-items":"center"}},z={for:"start"},J=["value"],Q=["value"],G={for:"end"},Y=["value"],Z=["value"];function ee(e,t,s,r,o,l){return(0,a.uX)(),(0,a.CE)("div",H,[(0,a.Lk)("span",null,[(0,a.Lk)("label",z,(0,n.v_)(e.$t("labels.start"))+":",1),(0,a.Lk)("select",{id:"start",value:s.modelValue.start,onChange:t[0]||(t[0]=e=>l.updateStart(e.target.value))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.limit,e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,Q))),128))],40,J)]),(0,a.Lk)("span",null,[(0,a.Lk)("label",G,(0,n.v_)(e.$t("labels.end"))+":",1),(0,a.Lk)("select",{id:"end",value:s.modelValue.end,onChange:t[1]||(t[1]=e=>l.updateEnd(e.target.value))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.limit,e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,Z))),128))],40,Y)])])}var te={props:{limit:{type:Number,required:!0},modelValue:{type:Object,required:!0}},methods:{updateStart(e){const t=Number(e),s=Math.max(t,this.modelValue.end);this.$emit("update:modelValue",{start:t,end:s})},updateEnd(e){const t=Number(e),s=Math.min(t,this.modelValue.start);this.$emit("update:modelValue",{start:s,end:t})}}};const se=(0,S.A)(te,[["render",ee]]);var re=se;const ae=["value"],ne=["value"],oe=["value"],le=["value"],ie=["value"],ue=["value"],ce=["value"],de=["value"];function he(e,t,s,r,o,l){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",null,[(0,a.Lk)("label",null,(0,n.v_)(e.$t("labels.start"))+":",1),(0,a.Lk)("select",{onChange:t[0]||(t[0]=e=>l.updateModel("startChapter",e.target.value)),value:s.modelValue.startChapter},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.chapters,e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.id)+"-"+(0,n.v_)("ar"===r.locale?e.name:e.en_name),9,ne))),128))],40,ae),(0,a.Lk)("select",{onChange:t[1]||(t[1]=e=>l.updateModel("startVerse",e.target.value)),value:s.modelValue.startVerse},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.startVerseOptions,e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,le))),128))],40,oe)]),(0,a.Lk)("div",null,[(0,a.Lk)("label",null,(0,n.v_)(e.$t("labels.end"))+":",1),(0,a.Lk)("select",{onChange:t[2]||(t[2]=e=>l.updateModel("endChapter",e.target.value)),value:s.modelValue.endChapter},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.filteredChapters,e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.id)+"-"+(0,n.v_)("ar"===r.locale?e.name:e.en_name),9,ue))),128))],40,ie),(0,a.Lk)("select",{onChange:t[3]||(t[3]=e=>l.updateModel("endVerse",e.target.value)),value:s.modelValue.endVerse},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.endVerseOptions,e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,de))),128))],40,ce)])],64)}s(2489);var pe={setup(){const{locale:e}=(0,X.s9)();return{locale:e}},props:{chapters:{type:Array,required:!0},modelValue:{type:Object,required:!0}},computed:{filteredChapters(){return this.chapters.filter(e=>e.id>=this.modelValue.startChapter)},startVerseOptions(){const e=this.chapters.find(e=>e.id===this.modelValue.startChapter);return e?Array.from({length:e.ayahs_count},(e,t)=>t+1):[]},endVerseOptions(){const e=this.chapters.find(e=>e.id===this.modelValue.endChapter);if(!e)return[];const t=this.modelValue.startChapter===this.modelValue.endChapter?this.modelValue.startVerse:1;return Array.from({length:e.ayahs_count-t+1},(e,s)=>s+t)}},methods:{updateModel(e,t){t=Number(t);let s={...this.modelValue,[e]:t};if("startChapter"===e){s.startChapter>s.endChapter&&(s.endChapter=s.startChapter);const e=this.chapters.find(e=>e.id===s.startChapter);e&&s.startVerse>e.ayahs_count&&(s.startVerse=e.ayahs_count)}if("endChapter"===e){const e=this.chapters.find(e=>e.id===s.endChapter);e&&s.endVerse>e.ayahs_count&&(s.endVerse=e.ayahs_count)}s.startChapter===s.endChapter&&s.startVerse>s.endVerse&&(s.endVerse=s.startVerse);const r=this.chapters.find(e=>e.id===s.endChapter);r&&s.endVerse>r.ayahs_count&&(s.endVerse=r.ayahs_count),this.$emit("update:modelValue",s),this.$emit("change",s)}}};const ge=(0,S.A)(pe,[["render",he]]);var fe=ge;const me={class:"surahName"};function ve(e,t,s,r,o,l){return(0,a.uX)(),(0,a.CE)(a.FK,null,[t[0]||(t[0]=(0,a.Lk)("div",{class:"border-image"},null,-1)),(0,a.Lk)("div",me,(0,n.v_)(s.surahName),1)],64)}var ke={props:{surahName:{type:String,required:!0}}};const ye=(0,S.A)(ke,[["render",ve]]);var Ve=ye;function Ce(e,t,s,o,l,i){return(0,a.bo)(((0,a.uX)(),(0,a.CE)("textarea",{tabindex:"1",rows:"1",ref:"input",class:(0,n.C4)(["input",{shake:l.isShaking}]),type:"textara","onUpdate:modelValue":t[0]||(t[0]=e=>l.inputValue=e),onInput:t[1]||(t[1]=(...e)=>i.handleInput&&i.handleInput(...e)),style:(0,n.Tr)({width:i.inputWidth})},"  ",38)),[[r.Jo,l.inputValue]])}var be={props:{expected:{type:String,required:!0}},emits:["correct"],data(){return{inputValue:"",hint:"",isShaking:!1}},computed:{inputWidth(){return`${this.expected.length+1}ch`}},methods:{handleInput(){" "===this.inputValue[this.inputValue.length-1]&&this.addHint(),"\n"===this.inputValue[this.inputValue.length-1]&&this.emitCorrect(),this.inputValue.length==this.expected.length&&(this.simplifyText(this.inputValue)===this.simplifyText(this.expected)?this.emitCorrect():(this.isShaking=!0,setTimeout(()=>{this.inputValue=this.hint,this.isShaking=!1},400)))},addHint(){this.hint.length<this.expected.length-1?(this.hint+=this.expected[this.hint.length],this.inputValue=this.hint):this.emitCorrect()},simplifyText(e){return e.replace(/[إأآ]/g,"ا").replace(/ة/g,"ه").replace(/ى/g,"ي")},emitCorrect(){this.$emit("correct"),this.inputValue=""},focus(){this.$refs.input.focus()}}};const Le=(0,S.A)(be,[["render",Ce]]);var xe=Le;const Ee={class:"quran-text"},we={key:0,class:"verseBlock"},_e={key:2,class:"dashes"},Ie={class:"quran-text"};function $e(e,t,s,r,o,l){const i=(0,a.g2)("inputBox");return(0,a.uX)(),(0,a.CE)(a.FK,null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.verses[0].text,(e,t)=>((0,a.uX)(),(0,a.CE)("p",{class:"quran-text",key:t},(0,n.v_)(e),1))),128)),(0,a.Lk)("p",Ee,(0,n.v_)(s.verses[0].glyph_number),1),s.verses[1]?((0,a.uX)(),(0,a.CE)("div",we,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.verses[1].text,(e,r)=>((0,a.uX)(),(0,a.CE)("div",{key:r},[o.activeIndex===r?((0,a.uX)(),(0,a.Wv)(i,{key:0,ref_for:!0,ref:"inputs",expected:s.verses[1].simple_text[r],onCorrect:t[0]||(t[0]=e=>l.handleCorrect())},null,8,["expected"])):o.activeIndex>r?((0,a.uX)(),(0,a.CE)("p",{key:1,class:"correct quran-text",ref_for:!0,ref:"words"},(0,n.v_)(e),513)):((0,a.uX)(),(0,a.CE)("p",_e,(0,n.v_)(o.store.generateDashes(s.verses[1].simple_text[r].length)),1))]))),128)),(0,a.Lk)("p",Ie,(0,n.v_)(s.verses[1].glyph_number),1)])):(0,a.Q3)("",!0)],64)}var Te={props:{verses:{type:Array,required:!0}},emits:["done"],data(){return{store:O,activeIndex:0}},methods:{async handleCorrect(){const e=this.verses[1];if(this.activeIndex===e.text.length-1)this.$emit("done");else{this.activeIndex++,await this.focusInput();const e=this.$refs.words[this.activeIndex-1];await this.store.delay(600),e.classList.remove("correct")}},async focusInput(){if(await this.$nextTick(),this.$refs.inputs?.length>0){const e=this.$refs.inputs[0];this.store.setCurrentInput(e),e.focus()}},restartTest(){this.activeIndex=0,this.focusInput()}}};const Oe=(0,S.A)(Te,[["render",$e]]);var Xe=Oe;const Fe={key:1,class:"dashes"},Re={class:"quran-text"};function Se(e,t,s,r,o,l){const i=(0,a.g2)("inputBox");return(0,a.uX)(),(0,a.CE)(a.FK,null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.verse.simple_text,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t},[t===o.activeIndex?((0,a.uX)(),(0,a.Wv)(i,{key:0,ref_for:!0,ref:"inputs",onCorrect:l.handleCorrect,expected:e},null,8,["onCorrect","expected"])):t>o.activeIndex&&o.inputIndexs.includes(t)?((0,a.uX)(),(0,a.CE)("p",Fe,(0,n.v_)(o.store.generateDashes(e.length)),1)):((0,a.uX)(),(0,a.CE)("p",{key:2,ref_for:!0,ref:"words",class:(0,n.C4)([{correct:o.oldInputIndexs.includes(t)},"quran-text"])},(0,n.v_)(s.verse.text[t]),3))]))),128)),(0,a.Lk)("p",Re,(0,n.v_)(s.verse.glyph_number),1)],64)}var Ae={props:{verse:{type:Object,required:!0}},emits:["done"],data(){return{store:O,activeIndex:0,oldInputIndexs:[],inputIndexs:[]}},methods:{async handleCorrect(){if(this.inputIndexs.length<=1)return void this.$emit("done");this.inputIndexs.shift(),this.activeIndex=this.inputIndexs[0],await this.focusInput();const e=this.$refs.words[this.$refs.words.length-1];await this.store.delay(600),e.classList.remove("correct")},pickInputIndexs(){this.inputIndexs=[0];const e=this.verse.text.length;if(e>1){const t=Math.floor(.5*e);let s=Array.from({length:e},(e,t)=>t);this.inputIndexs=this.store.shuffleArray(s).slice(0,t).sort((e,t)=>e-t)}this.activeIndex=this.inputIndexs[0]},async focusInput(){if(await this.$nextTick(),this.$refs.inputs?.length>0){const e=this.$refs.inputs[0];this.store.setCurrentInput(e),e.focus()}},restartTest(){this.pickInputIndexs(),this.oldInputIndexs=[...this.inputIndexs],this.focusInput()}}};const Me=(0,S.A)(Ae,[["render",Se]]);var Ke=Me;const qe=(0,r.Ef)(M),Ne={position:"bottom-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1};qe.use(P).use(F.Ay,Ne).component("ButtonOptions",B).component("RangeSelector",re).component("VerseSelector",fe).component("SurahBorder",Ve).component("inputBox",xe).component("testVerse",Xe).component("testWord",Ke).mount("#app")}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,n){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],n=e[c][2];for(var l=!0,i=0;i<r.length;i++)(!1&n||o>=n)&&Object.keys(s.O).every(function(e){return s.O[e](r[i])})?r.splice(i--,1):(l=!1,n<o&&(o=n));if(l){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[r,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,n,o=r[0],l=r[1],i=r[2],u=0;if(o.some(function(t){return 0!==e[t]})){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(i)var c=i(s)}for(t&&t(r);u<o.length;u++)n=o[u],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},r=self["webpackChunkclient"]=self["webpackChunkclient"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],function(){return s(2304)});r=s.O(r)})();
//# sourceMappingURL=app.baf33151.js.map